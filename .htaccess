  <IfModule mod_rewrite.c>
      RewriteEngine On

      # Force HTTPS
      RewriteCond %{HTTPS} off
      RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

      # Redirect to public folder
      RewriteRule ^(.*)$ public/$1 [L]
  </IfModule>

  # Block access to sensitive files
  <FilesMatch "^\.env|composer\.(json|lock)|package\.json|webpack\.mix\.js|phpunit\.xml|artisan$">
      Order allow,deny
      Deny from all
  </FilesMatch>

  # Block access to hidden files
  <FilesMatch "^\.">
      Order allow,deny
      Deny from all
  </FilesMatch>

  # Security Headers
  <IfModule mod_headers.c>
      Header always set X-Content-Type-Options "nosniff"
      Header always set X-Frame-Options "SAMEORIGIN"
      Header always set X-XSS-Protection "1; mode=block"
      Header always set Referrer-Policy "strict-origin-when-cross-origin"
  </IfModule>
  
